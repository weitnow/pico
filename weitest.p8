pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
--game loop

function _init()
 map_setup()
 make_player()
 
end

function _update()
	move_player()
end


function _draw()
	cls()
	draw_map()
	draw_player()
end
-->8
--map code
function map_setup()
	--map tile settings
	wall=0
	key=1
	door=2
	anim1=3
	anim2=4
	lose=6
	win=7
end

function draw_map()
	map(0,0)
end

function is_tile(tile_type,x,y)
  tile=mget(x,y)
  has_flag=fget(tile,tile_type)
  return has_flag
end

function can_move(x,y)
	return not is_tile(wall,x,y)
end
-->8
--player code

function make_player()
	p={
		x=3,
		y=2,
		sprite=64,
		key=0
}
end

function draw_player()
	spr(p.sprite,p.x*8,p.y*8)
end

function move_player()
	local newx=p.x
	local newy=p.y
	
	if (btnp(⬅️)) newx-=1
	if (btnp(➡️)) newx+=1
	if (btnp(⬆️)) newy-=1
 if (btnp(⬇️)) newy+=1
 
 if can_move(newx,newy) then
 	p.x = mid(0,newx,127)
 	p.y = mid(0,newy,63)
 else
 	sfx(0)
 end
end

-->8
--helper function--

__gfx__
00000000333333333333333333300333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000333333333333333b33050003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070033333333333333bb30065503000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770003333333333bb33b300556500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700033333333333b33b305555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070033333333333b333300225600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000333333333333333330025003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000333333333333333333000333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000111111111111111111111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000111111111cc1111111555511000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000111111111111111115566511000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000111111111111111115556551000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000011111111111111cc11555551000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000001111111111cc111111255561000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000001111111111111111cc22255c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000011111111111111111cccccc1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666666666666665666656000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666666656666655555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666666666666666656665000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666666666656655555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666666666666665666656000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666666566666655555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666666666666666656665000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666666666665655555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
f099990f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00aaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00a00a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00a00a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
70000000077077707070777000007770770070707770770077707070777077700770777077707770000077707770000077707700077000000333333333333333
07000000700070707070700000007070707070707000707007007070707070007000707077707000000070707070000070707070700000000333333333333333
00700000777077707070770000007770707070707700707007007070770077007000777070707700000077707770000077707070700000000333333333333333
07000000007070707770700000007070707077707000707007007070707070007070707070707000000070007070000070007070707000000333333333333333
70000000770070700700777000007070777007007770707007000770707077707770707070707770070070007770070070007070777000000333333333333333
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000333333333333333
66606660600066600000666060006660666066606600606000006660606066600660666006600000000000000000000000000000000000000000000000000000
60000600600060000000606060006060600060606060606000006000606006006000060060000000000000000000000000000000000000000000000000000000
66000600600066000000666060006600660066606060666000006600060006006660060066600000000000000000000000000000000000000000000000000000
60000600600060000000606060006060600060606060006000006000606006000060060000600000000000000000000000000000000000000000000000000000
60006660666066600000606066606060666060606660666000006660606066606600060066000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ee0e0e0eee0eee0e0e0eee0eee0eee0eee0eee00000ee00e0e000e0ee000ee00000000000000000000000000000000000000000000000000000000000000000
e0e0e0e0e000e0e0e0e0e0e00e000e00e00000e00000e000e0e00e00e0e000e00000000000000000000000000000000000000000000000000000000000000000
e0e0e0e0ee00ee00e0e0ee000e000e00ee000ee00000e000eee00e00e0e000e00000000000000000000000000000000000000000000000000000000000000000
e0e0eee0e000e0e0eee0e0e00e000e00e00000000000e00000e00e00e0e000e00000000000000000000000000000000000000000000000000000000000000000
ee000e00eee0e0e0eee0e0e0eee00e00eee00e000000ee00eee0e000e0e00ee00000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
90909990999099009990990009900000000090009990999099909000000099900990000099909000999099009090000000000000000000000000000000000000
90909090909090900900909090000900000090009090909090009000000009009000000090909000909090909090000000000000000000000000000000000000
90909990990090900900909090000000000090009990990099009000000009009990000099009000999090909900000000000000000000000000000000000000
99909090909090900900909090900900000090009090909090009000000009000090000090909000909090909090000000000000000000000000000000000000
99909090909090909990909099900000000099909090999099909990000099909900000099909990909090909090000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
aaa0a0a0aa0000000aa0aaa0aaa0aaa00000aaa0aa00aa000000a0a00aa0aaa00000aaa0aaa00000aaa00aa000000aa0aaa0aaa0aaa0a0a0aaa0aaa000000000
a0a0a0a0a0a00000a000a0a0a0a00a000000a0a0a0a0a0a00000a0a0a000a0000000a00000a000000a00a0a00000a000a0a0a0a00a00a0a0a0a0a00000000000
aa00a0a0a0a00000a000aaa0aa000a000000aaa0a0a0a0a00000a0a0aaa0aa000000aa0000a000000a00a0a00000a000aaa0aaa00a00a0a0aa00aa0000000000
a0a0a0a0a0a00000a000a0a0a0a00a000000a0a0a0a0a0a00000a0a000a0a0000000a00000a000000a00a0a00000a000a0a0a0000a00a0a0a0a0a00000000000
a0a00aa0a0a000000aa0a0a0a0a00a000000a0a0a0a0aaa000000aa0aa00aaa00000a00000a000000a00aa0000000aa0a0a0a0000a000aa0a0a0aaa000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06606660606066606600000066606600606066606600666060606660666006606660666066600000666066600000666066000660000000000000000000000000
60006060606060006060000060606060606060006060060060606060600060006060666060000000606060600000606060606000000000000000000000000000
66606660606066006060000066606060606066006060060060606600660060006660606066000000666066600000666060606000000000000000000000000000
00606060666060006060000060606060666060006060060060606060600060606060606060000000600060600000600060606060000000000000000000000000
66006060060066606660000060606660060066606060060006606060666066606060606066600600600066600600600060606660000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
700000008888033333333333333333333333333333333333333333333333333333333333333333333333333333333333333b33b3333333333333333333333333
070000008888033333333333333333333333333333333333333333333333333333333333333333333333333333333333333b3333333333333333333333333333
00700000888803333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
07000000888803333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
70000000888801113333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
00000000000001113333333333333333333333333333333333333333333333333333333b3333333333333333333333333333333333333333333333333333333b
1111111111111111333333333333333333333333333333333333333333333333333333bb333333333333333333333333333333333333333333333333333333bb
111111111111111133333333333333333333333333333333333333333333333333bb33b333333333333333333333333333333333333333333333333333bb33b3
1111111111111111333333333333333333333333333333333333333333333333333b33b3333333333333333333333333333333333333333333333333333b33b3
1111111111111111333333333333333333333333333333333333333333333333333b3333333333333333333333333333333333333333333333333333333b3333
11111111111111113333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
11111111111111113333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
11111111111111111111111111111111666666666666666633333333333333333333333333333333333333333333333333333333333333333333333333333333
11111111111111111111111111111111665666666656666633333333333333333333333333333333333333333333333333333333333333333333333333333333
11111111111111111111111111111111666666666666666633333333333333333333333333333333333333333333333333333333333333333333333333333333
11111111111111111111111111111111666665666666656633333333333333333333333333333333333333333333333333333333333333333333333333333333
11111111111111111111111111111111666666666666666633333333333333333333333333333333333333333333333333333333333333333333333333333333
11111111111111111111111111111111656666666566666633333333333333333333333333333333333333333333333333333333333333333333333333333333
11111111111111111111111111111111666666666666666633333333333333333333333333333333333333333333333333333333333333333333333333333333
11111111111111111111111111111111666666566666665633333333333333333333333333333333333333333333333333333333333333333333333333333333
11111111111111111111111111111111666666666666666611111111111111111111111133333333333333333333333333333333333333333333333311111111
11111111111111111111111111111111665666666656666611111111111111111111111133333333333333333333333333333333333333333333333311111111
11111111111111111111111111111111666666666666666611111111111111111111111133333333333333333333333333333333333333333333333311111111
11111111111111111111111111111111666665666666656611111111111111111111111133333333333333333333333333333333333333333333333311111111
11111111111111111111111111111111666666666666666611111111111111111111111133333333333333333333333333333333333333333333333311111111
11111111111111111111111111111111656666666566666611111111111111111111111133333333333333333333333333333333333333333333333311111111
11111111111111111111111111111111666666666666666611111111111111111111111133333333333333333333333333333333333333333333333311111111
11111111111111111111111111111111666666566666665611111111111111111111111133333333333333333333333333333333333333333333333311111111
11111111111111111111111111111111666666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111cc111111155551166566666665666661111111111111111111111111cc11111111111111111111111111111111111111111111111111111
11111111111111111111111115566511666666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111115556551666665666666656611111111111111111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111cc115555516666666666666666111111111111111111111111111111cc111111111111111111111111111111111111111111111111
111111111111111111cc111111255561656666666566666611111111111111111111111111cc1111111111111111111111111111111111111111111111111111
111111111111111111111111cc22255c666666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111cccccc1666666566666665611111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111666666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111
1cc111111155551111111111111111116656666666566666111111111cc1111111555511111111111111111111111111111111111cc111111155551111111111
11111111155665111111111111111111666666666666666611111111111111111556651111111111111111111111111111111111111111111556651111111111
11111111155565511111111111111111666665666666656611111111111111111555655111111111111111111111111111111111111111111555655111111111
111111cc115555511111111111111111666666666666666611111111111111cc1155555111111111111111111111111111111111111111cc1155555111111111
11cc111111255561111111111111111165666666656666661111111111cc1111112555611111111111111111111111111111111111cc11111125556111111111
11111111cc22255c111111111111111166666666666666661111111111111111cc22255c1111111111111111111111111111111111111111cc22255c11111111
111111111cccccc11111111111111111666666566666665611111111111111111cccccc111111111111111111111111111111111111111111cccccc111111111
11111111111111111111111111111111666666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111665666666656666611111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111666666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111666665666666656611111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111666666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111656666666566666611111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111666666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111666666566666665611111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111333333333333333333333333666666666666666633333333333333333333333333333333333333333333333311111111111111111111111133333333
11111111333333333333333333333333665666666656666633333333333333333333333333333333333333333333333311111111111111111111111133333333
11111111333333333333333333333333666666666666666633333333333333333333333333333333333333333333333311111111111111111111111133333333
11111111333333333333333333333333666665666666656633333333333333333333333333333333333333333333333311111111111111111111111133333333
11111111333333333333333333333333666666666666666633333333333333333333333333333333333333333333333311111111111111111111111133333333
11111111333333333333333333333333656666666566666633333333333333333333333333333333333333333333333311111111111111111111111133333333
11111111333333333333333333333333666666666666666633333333333333333333333333333333333333333333333311111111111111111111111133333333
11111111333333333333333333333333666666566666665633333333333333333333333333333333333333333333333311111111111111111111111133333333
33333333333333333333333333333333666666666666666633333333333333333333333365666656656666566566665665666656656666563333333333333333
33333333333333333333333333333333665666666656666633333333333333333333333355555555555555555555555555555555555555553333333333333333
33333333333333333333333333333333666666666666666633333333333333333333333366656665666566656665666566656665666566653333333333333333
33333333333333333333333333333333666665666666656633333333333333333333333355555555555555555555555555555555555555553333333333333333
33333333333333333333333333333333666666666666666633333333333333333333333365666656656666566566665665666656656666563333333333333333
33333333333333333333333333333333656666666566666633333333333333333333333355555555555555555555555555555555555555553333333333333333
33333333333333333333333333333333666666666666666633333333333333333333333366656665666566656665666566656665666566653333333333333333
33333333333333333333333333333333666666566666665633333333333333333333333355555555555555555555555555555555555555553333333333333333
33333333333333333333333333333333666666666666666633300333333333336566665665666656666666666666666666666666656666563333333333333333
33333333333333333333333333333333665666666656666633050003333333335555555555555555666666666666666666666666555555553333333333333333
33333333333333333333333333333333666666666666666630065503333333336665666566656665666666666666666666666666666566653333333333333333
33333333333333333333333333333333666665666666656600556500333333335555555555555555666666666666666666666666555555553333333333333333
33333333333333333333333333333333666666666666666605555550333333336566665665666656666666666666666666666666656666563333333333333333
33333333333333333333333333333333656666666566666600225600333333335555555555555555666666666666666666666666555555553333333333333333
33333333333333333333333333333333666666666666666630025003333333336665666566656665666666666666666666666666666566653333333333333333
33333333333333333333333333333333666666566666665633000333333333335555555555555555666666666666666666666666555555553333333333333333
33333333333333333333333333333333333333336666666666666666666666666666666666666666666666666666666666666666656666563333333333333333
33333333333333333333333b33333333333333336656666666566666665666666666666666666666666666666666666666666666555555553333333333333333
3333333333333333333333bb33333333333333336666666666666666666666666666666666666666666666666666666666666666666566653333333333333333
333333333333333333bb33b333333333333333336666656666666566666665666666666666666666666666666666666666666666555555553333333333333333
3333333333333333333b33b333333333333333336666666666666666666666666666666666666666666666666666666666666666656666563333333333333333
3333333333333333333b333333333333333333336566666665666666656666666666666666666666666666666666666666666666555555553333333333333333
33333333333333333333333333333333333333336666666666666666666666666666666666666666666666666666666666666666666566653333333333333333
33333333333333333333333333333333333333336666665666666656666666566666666666666666666666666666666666666666555555553333333333333333
33333333333333333333333333333333333333333333333333333333333333336566665665666656656666566566665665666656656666563333333333333333
3333333333333333333333333333333333333333333333333333333333333333555555555555555555555555555555555555555555555555333333333333333b
333333333333333333333333333333333333333333333333333333333333333366656665666566656665666566656665666566656665666533333333333333bb
33333333333333333333333333333333333333333333333333333333333333335555555555555555555555555555555555555555555555553333333333bb33b3
333333333333333333333333333333333333333333333333333333333333333365666656656666566566665665666656656666566566665633333333333b33b3
333333333333333333333333333333333333333333333333333333333333333355555555555555555555555555555555555555555555555533333333333b3333
33333333333333333333333333333333333333333333333333333333333333336665666566656665666566656665666566656665666566653333333333333333
33333333333333333333333333333333333333333333333333333333333333335555555555555555555555555555555555555555555555553333333333333333

__gff__
0000000100000000000000000000000000010101000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0101010101010101010301010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010102010101010102010101010102010101010101020103010101020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0103010201010101010101010101010101010101010201010101010101020101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010201010101030101010101010102010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1111010101010101020101010101010201010101010101010101011111111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1111111122220101010101010101010101010101010111111111111111111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1111111122221111110101010101011111111111111111111111111111111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1111121322221111111211111111111111111211111111111111111111111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1213111122221112131111111112131111131211111111111111111111111111010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1111111122221111111111111111111111111111111111111111111111111101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1101010122220101010101011111110101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010122220101012323232323010101010101010101010301010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010122220301232321212123010101010102010101010101010103020101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101020101222222212121212123010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101232323232323010201010101010101020101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010201010101010101010101010101010101010101010101010102010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
0004000009050210001b0001700016000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
